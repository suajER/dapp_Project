{"ast":null,"code":"var _jsxFileName = \"D:\\\\test\\\\client\\\\src\\\\dashComponents\\\\Donation.js\";\nimport React, { Component } from 'react';\nimport { Segment, Card } from 'semantic-ui-react';\nimport { Link } from \"react-router-dom\";\nexport default class showDeployedTender extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      target: null,\n      minimumcontribution: null,\n      url: null,\n      beneficiary: null,\n      balance: null,\n      donors: null,\n      requests: null,\n      raisedAmount: null,\n      donateValue: null\n    };\n    this.prevState = this.state.target;\n\n    this.weiTOeth = amount => {\n      const ConvertedAmount = this.props.web3.utils.fromWei(amount);\n      return ConvertedAmount;\n    };\n\n    this.componentDidUpdate = async ({\n      prevState\n    }) => {\n      if (prevState == this.state.target) {\n        const info = await this.props.contract.methods.getTenderinfo().call();\n        this.setState({\n          minimumcontribution: this.weiTOeth(info[0]),\n          target: info[1],\n          url: info[2],\n          balance: this.weiTOeth(info[3]),\n          beneficiary: info[4],\n          donors: info[5],\n          requests: info[6],\n          raisedAmount: this.weiTOeth(info[7])\n        });\n      }\n\n      console.log(\"donatevalue=\", this.state.donateValue);\n      console.log(\"accountaddress=\", this.props.account);\n    };\n\n    this.clickHandler = async () => {\n      await this.props.web3.eth.sendTransaction({\n        from: this.props.account,\n        to: this.props.address,\n        value: this.props.web3.utils.toWei('0.001', 'ether')\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"ui container center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, console.log(this.props.web3), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Tender Status:\"), React.createElement(\"button\", {\n      onClick: this.state.tenderinfo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"clickme\"), React.createElement(Card.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Card.Content, {\n      header: this.props.address,\n      meta: \"Deployed Tender Address\",\n      description: \"This is the address of deployed tender in this system.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Card.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, this.state.beneficiary), React.createElement(Card.Meta, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Address of the creator\"), React.createElement(Card.Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"This address can create request for collected amount\"))), React.createElement(Card, {\n      header: this.state.url,\n      meta: \"Link of the protocol\",\n      description: \"This is the uploaded protocol from this tender.Copy URL and review it.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Card.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.target, \" ETH\"), React.createElement(Card.Meta, {\n      content: \"Target Amount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(Card.Description, {\n      content: \"This is the amount targeted for this tender.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Card.Content, {\n      header: this.state.minimumcontribution,\n      ETH: true,\n      meta: \"Minimum Contribution\",\n      description: \"This is the minimum amount specified by tender to donate.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(Card, {\n      header: this.state.raisedAmount,\n      ETH: true,\n      meta: \"Raised Amount\",\n      description: \"This is the collected amount in this tender.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(Card, {\n      header: this.state.donors,\n      meta: \"Number Of Donors\",\n      description: \"This shows the number of people who donated in this tender.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(Card, {\n      header: this.state.requests,\n      meta: \"Number Of Requests\",\n      description: \"This shows the number of requests created by the creator after he/she wished to stop funding.You won't be able to donate after creator makes request.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), React.createElement(Segment.Group, {\n      horizontal: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Tender Current Balance: \", this.state.balance, \" ETH\"), React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Number of Requests:   \", React.createElement(Link, {\n      to: \"/dashboard/request\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"View Requests\"))), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Amount:\"), React.createElement(\"input\", {\n      type: \"number\",\n      labelPosition: \"right\",\n      placeholder: \"Amount\",\n      onChange: e => this.setState({\n        donateValue: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"ui button green\",\n      onClick: this.state.clickHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Donate\"));\n  }\n\n}","map":{"version":3,"sources":["D:/test/client/src/dashComponents/Donation.js"],"names":["React","Component","Segment","Card","Link","showDeployedTender","constructor","props","state","target","minimumcontribution","url","beneficiary","balance","donors","requests","raisedAmount","donateValue","prevState","weiTOeth","amount","ConvertedAmount","web3","utils","fromWei","componentDidUpdate","info","contract","methods","getTenderinfo","call","setState","console","log","account","clickHandler","eth","sendTransaction","from","to","address","value","toWei","render","tenderinfo","e"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Segment,  Card} from 'semantic-ui-react';\r\nimport {Link} from \"react-router-dom\"\r\n\r\n\r\nexport default class showDeployedTender extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n \r\n  state={\r\n    target: null,\r\n    minimumcontribution: null,\r\n    url: null,\r\n    beneficiary: null,\r\n    balance : null,\r\n    donors : null,\r\n    requests : null,\r\n    raisedAmount:null,\r\n    donateValue:null\r\n\r\n  }\r\n  prevState=this.state.target;\r\n\r\n  weiTOeth=(amount)=>{\r\n  const ConvertedAmount=this.props.web3.utils.fromWei(amount);\r\n  return ConvertedAmount;\r\n  }\r\n\r\n\r\n  componentDidUpdate = async({prevState}) =>{\r\n    if (prevState == this.state.target) {\r\n    const info = await this.props.contract.methods.getTenderinfo().call();\r\n    this.setState(\r\n      {minimumcontribution : this.weiTOeth(info[0]),\r\n        target : info[1],url : info[2], \r\n        balance : this.weiTOeth(info[3]), \r\n        beneficiary: info[4],donors:info[5],requests : info[6],\r\n        raisedAmount :  this.weiTOeth(info[7]) \r\n      });\r\n    }\r\n    console.log(\"donatevalue=\",this.state.donateValue)\r\n    console.log(\"accountaddress=\",this.props.account)\r\n  }\r\n\r\n  clickHandler = async ()=>{\r\n    await this.props.web3.eth.sendTransaction(\r\n      {from : this.props.account,to:this.props.address, value:this.props.web3.utils.toWei('0.001','ether')})\r\n}\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className='ui container center'>\r\n     {console.log(this.props.web3)}\r\n      <h1>Tender Status:</h1>\r\n      <button onClick={this.state.tenderinfo}>clickme</button>\r\n      <Card.Group>\r\n      <Card>\r\n        <Card.Content\r\n          header={this.props.address}\r\n          meta='Deployed Tender Address'\r\n          description='This is the address of deployed tender in this system.'\r\n        />\r\n      </Card>\r\n      <Card>\r\n        <Card.Content>\r\n          <Card.Header>{this.state.beneficiary}</Card.Header>\r\n          <Card.Meta>Address of the creator</Card.Meta>\r\n          <Card.Description>\r\n            This address can create request for collected amount\r\n          </Card.Description>\r\n        </Card.Content>\r\n      </Card>\r\n      <Card\r\n        header={this.state.url}\r\n        meta='Link of the protocol'\r\n        description='This is the uploaded protocol from this tender.Copy URL and review it.'\r\n      />\r\n      <Card>\r\n        <Card.Content>\r\n          <Card.Header>{this.state.target} ETH</Card.Header>\r\n          <Card.Meta content='Target Amount' />\r\n          <Card.Description content='This is the amount targeted for this tender.' />\r\n        </Card.Content>\r\n      </Card>\r\n  \r\n      <Card>\r\n        <Card.Content\r\n          header={this.state.minimumcontribution}ETH\r\n          meta='Minimum Contribution'\r\n          description='This is the minimum amount specified by tender to donate.'\r\n        />\r\n      </Card>\r\n  \r\n      <Card\r\n        header={this.state.raisedAmount} ETH\r\n        meta='Raised Amount'\r\n        description='This is the collected amount in this tender.'\r\n      />\r\n       <Card\r\n        header={this.state.donors}\r\n        meta='Number Of Donors'\r\n        description='This shows the number of people who donated in this tender.'\r\n      />\r\n\r\n      <Card\r\n        header={this.state.requests}\r\n        meta='Number Of Requests'\r\n        description=\"This shows the number of requests created by the creator after he/she wished to stop funding.You won't be able to donate after creator makes request.\"\r\n      />\r\n    </Card.Group>\r\n    <Segment.Group horizontal>\r\n      <Segment>Tender Current Balance: {this.state.balance} ETH</Segment>\r\n    <Segment>Number of Requests:   <Link to='/dashboard/request'>View Requests</Link></Segment>\r\n  \r\n  </Segment.Group>\r\n  <div className=\"field\">\r\n          <label>Amount:</label>\r\n          <input type=\"number\" labelPosition=\"right\" placeholder='Amount' onChange={(e) => this.setState({ donateValue: e.target.value })}></input>\r\n        </div>\r\n\r\n        <button className='ui button green' onClick={this.state.clickHandler} \r\n        >Donate</button>\r\n  \r\n       </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}